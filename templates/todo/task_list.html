{% extends "base.html" %}
{% block title %}
  <title>Tasks list</title>
{% endblock %}

{% block content %}
  <h1>
    TODO list
    <a href="{% url 'todo:task-create' %}">Add task</a>
  </h1>
  {% for task in task_list %}
    <ul>
      <li>{{ task.content }}
         {% if task.progress %}
           Done
           <a href="{% url 'todo:change-progress' pk=task.pk %}">Undo</a>
         {% else %}
           Not done
           <a href="{% url 'todo:change-progress' pk=task.pk %}">Complete</a>
         {% endif %}
      </li>
      <li>{{ task.datetime }}</li>
      <li>
        Tags:
        {% for tag in task.tags.all %}
          {{ tag.name }}
        {% empty %}Unknown{% endfor %}
      </li>
      <li>
        <a href="{% url 'todo:task-update' pk=task.pk %}">Update</a>
        <a href="{% url 'todo:task-delete' pk=task.pk %}">Delete</a>
      </li>
    </ul>
  {% empty %}
    <h3>No tasks yet!</h3>
  {% endfor %}
{% endblock %}
